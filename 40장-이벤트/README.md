# 40ì¥ ì´ë²¤íŠ¸

## 40.1 ì´ë²¤íŠ¸ ë“œë¦¬ë¸ í”„ë¡œê·¸ë˜ë°

ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì–´ë–¤ ì²˜ë¦¬ë¥¼ í•˜ê³ ì‹¶ë‹¤ê³  ê°€ì •í•´ë³´ì, ì´ë•Œ ì´ í•¨ìˆ˜ëŠ” ì–¸ì œ í˜¸ì¶œí•´ì•¼ í•˜ëŠ”ê°€? ì‚¬ìš©ìê°€ ì–¸ì œ ë²„íŠ¼ì„ í´ë¦­í• ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ìš°ë¦¬ëŠ” ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì ì„ ì •í•´ë‘˜ ìˆ˜ ì—†ë‹¤.

ë‹¤í–‰íˆ ë¸Œë¼ìš°ì €ëŠ” ì²˜ë¦¬í•´ì•¼ í•  íŠ¹ì • ì‚¬ê±´ì´ ë°œìƒí•˜ë©´, ì´ë¥¼ ê°ì§€í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤(event trigger). ë§ˆìš°ìŠ¤ í´ë¦­, í‚¤ë³´ë“œ ì…ë ¥, ë§ˆìš°ìŠ¤ ì´ë™ ë“±ì´ ì¼ì–´ë‚˜ë©´ ë¸Œë¼ìš°ì €ëŠ” ì´ë¥¼ ê°ì§€í•˜ì—¬ íŠ¹ì • íƒ€ì…ì˜ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

ì´ëŸ¬í•œ ì´ë²¤íŠ¸ì— ëŒ€ì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**(event handler)ë¼ê³  í•˜ê³ , ì´ë²¤íŠ¸ì˜ ë°œìƒì— í•¨ìˆ˜ í˜¸ì¶œì„ ìœ„ì„í•˜ëŠ” ê²ƒì„ **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡** ì´ë¼ê³  í•œë‹¤.
ì´ë²¤íŠ¸ì™€ ê·¸ì— ëŒ€ì‘í•˜ëŠ” í•¨ìˆ˜, ì¦‰ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ ì‚¬ìš©ìì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆë‹¤. í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ì´ë²¤íŠ¸ ì¤‘ì‹¬ìœ¼ë¡œ ì œì–´í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹ì„ **ì´ë²¤íŠ¸ ë“œë¦¬ë¸ í”„ë¡œê·¸ë˜ë°ì´ë¼ê³ ** í•œë‹¤.

## 40.2 ì´ë²¤íŠ¸ íƒ€ì…

> ì´ë²¤íŠ¸ íƒ€ì…ì€ ì•½ 200ì—¬ê°€ì§€ê°€ ìˆë‹¤...

https://developer.mozilla.org/ko/docs/Web/Events

### ì‚¬ìš© ë¹ˆë„ ë†’ì€ ì´ë²¤íŠ¸

- ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
- í‚¤ë³´ë“œ ì´ë²¤íŠ¸
- í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸
- ê°’ ë³€ê²½ ì´ë²¤íŠ¸
- DOM ë®¤í…Œì´ì…˜ ì´ë²¤íŠ¸
- ë·° ì´ë²¤íŠ¸
- ë¦¬ì†ŒìŠ¤ ì´ë²¤íŠ¸
  ë“±ë“±..

ê¸°ê¸°ë¥¼ í†µí•œ ìƒí˜¸ì‘ìš© (ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ, ì‹¬ì§€ì–´ ê²Œì„íŒ¨ë“œ) ë“¤ ë¿ë§Œ ì•„ë‹ˆë¼ ë¦¬ì†ŒìŠ¤ ë¡œë“œ, ì†Œì¼“ ì—°ê²°ì´ ìˆ˜ë¦½ëì„ë•Œ ê°™ì€ ìƒíƒœì™€ ê´€ë ¨ëœ ì´ë²¤íŠ¸, css ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ, ë°˜ë³µë“±ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë“± ê´‘ë²”ìœ„í•˜ê³  ë””í…Œì¼í•œ ì´ë²¤íŠ¸ë“¤ì´ ë§ë‹¤.

## 40.3 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ì´ë€, ì´ë²¤íŠ¸ ë°œìƒì‹œ í˜¸ì¶œ í•˜ëŠ” í•¨ìˆ˜ì¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë¸Œë¼ìš°ì €ì— ë“±ë¡í•˜ì—¬, í˜¸ì¶œì„ ìœ„ì„í•˜ëŠ” ê²ƒì´ë‹¤.

> 3ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.
>
> 1. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ (HTML, ì–´íŠ¸ë¦¬ë·°íŠ¸)
> 2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ (JS, DOM í”„ë¡œí¼í‹°)
> 3. addEventListener ë©”ì„œë“œ ì´ìš© ë°©ì‹(JS, ë¹ŒíŠ¸ì¸ ë©”ì„œë“œ)

## 40.3.1 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹

> ìµìˆ™í•œ ê·¸ê²ƒë“¤, \<div> íƒœê·¸ ë‚´ì— onClick, onSubmit, onMouseMoveì— í˜¸ì¶œí•  í•¨ìˆ˜ í• ë‹¹.  
> DOM Level 0ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ê³ ì „ ì´ë²¤íŠ¸ ëª¨ë¸ì´ë‹¤.

```javascript
  <!DOCTYPE html>
  <html>
    <body>
      <button onclick="sayHi('Lee')">Click me!</button>
      <script>
        function sayHi(name){
          console.log(name);
        }
      </script>
    </body>
  </html>

```

HTML ìš”ì†Œì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¤‘ì—ëŠ” ì´ë²¤íŠ¸ì— ëŒ€ì‘í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ìˆë‹¤. ì–´íŠ¸ë¦¬ë·°íŠ¸ ì´ë¦„ì€ on ì ‘ë‘ì‚¬ì™€ ì´ë²¤íŠ¸íƒ€ì…(click,keydown)ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ”ë°, ì´ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ë¬¸ì„ í• ë‹¹í•˜ë©´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë“±ë¡ëœë‹¤.

- íŠ¹ì´ì   
  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ìœ¼ë¡œ í•¨ìˆ˜ì°¸ì¡°ê°€ ì•„ë‹Œ í•¨ìˆ˜ í˜¸ì¶œë¬¸ ë“±ì˜ ë¬¸ì„ í• ë‹¹í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

  > onclick="sayHi" âŒ  
  > onclick="sayHi('Lee')" //âœ…

  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì€ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ í•¨ìˆ˜ ëª¸ì²´ë¥¼ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì—, í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ì „ë‹¬í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, í•¨ìˆ˜ í˜¸ì¶œë¬¸ì„ í• ë‹¹í•´ì•¼ í•œë‹¤.
  ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” íŒŒì‹±ë˜ì–´

  ```javascript
  function onclick(event) {
    sayHi("Lee"); //HTML ìš”ì†Œ onclick ì–´íŠ¸ë¦¬ë·°íŠ¸ì— í• ë‹¹í•´ì¤€ ê°’, onclick="sayHi('Lee')"ì²˜ëŸ¼ í• ë‹¹ëœ í˜¸ì¶œë¬¸ì´ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” í•¨ìˆ˜ ëª¸ì²´ì— í• ë‹¹ëœë‹¤.
  }
  ```

  í•¨ìˆ˜ë¥¼ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±í•˜ê³ , ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ì´ë¦„ê³¼ ë™ì¼í•œ onclick ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— í• ë‹¹í•œë‹¤.
  ì´ìœ ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì¸ìˆ˜ë¥¼ ì „ë‹¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

  ë”°ë¼ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ìœ¼ë¡œ ì—¬ëŸ¬ê°œì˜ ë¬¸ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.

  ```HTML
    <div onclick="console.log("hello"); console.log("myNameIs Lee");
    "> </div>
  ```

- ì•Œì•„ë‘˜ì 
  - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ì€, ì˜¤ë˜ëœ ì½”ë“œì—ì„œ ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì•Œì•„ë‘˜ í•„ìš”ëŠ” ìˆì§€ë§Œ, ë”ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤  
    ğŸ‘‰ğŸ» HTMLê³¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê´€ì‹¬ì‚¬ëŠ” ë‹¤ë¥´ë¯€ë¡œ í˜¼ì¬í•˜ëŠ”ê²ƒë³´ë‹¤ ë¶„ë¦¬í•˜ëŠ”ê²Œ ì¢‹ê¸°ë•Œë¬¸
  - Component Based Development(CBD) ë°©ì‹ì˜ Angular/react/Svelte/Vue.js ê°™ì€ ê²½ìš° ì´ëŸ¬í•œ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤.  
    ğŸ‘‰ğŸ» CBDì—ì„œëŠ” HTML, CSS, JSë¥¼ ê´€ì‹¬ì‚¬ê°€ ë‹¤ë¥¸ ê°œë³„ì  ìš”ì†Œê°€ ì•„ë‹Œ, ë·°ë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†Œë¡œ ë³´ê¸° ë•Œë¬¸ì— ê´€ì‹¬ì‚¬ê°€ ë‹¤ë¥´ë‹¤ê³  ìƒê°í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—

### 40.3.2 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹

windowê°ì²´ì™€ Document, HTMLElement íƒ€ì…ì˜ DOM ë…¸ë“œ ê°ì²´ëŠ” ì´ë²¤íŠ¸ì— ëŒ€ì‘í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³ ìˆë‹¤.
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ì²˜ëŸ¼, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì˜ í‚¤ëŠ” on + ì´ë²¤íŠ¸ íƒ€ì… ì´ë¦„ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ì´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— í•¨ìˆ˜ë¥¼ ë°”ì¸ë”©í•˜ë©´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë“±ë¡ëœë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <button onclick="sayHi('Lee')">Click me!</button>
    <script>
      const $button = document.querySelector("button");
      $button.onclick = function (name) {
        console.log(name);
      };
    </script>
  </body>
</html>
```

- ì•Œì•„ë‘˜ì 

  - ìœ„ ì½”ë“œì—ì„œ ì´ë²¤íŠ¸ íƒ€ê¹ƒì€ $buttonì´ë‹¤. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ëŒ€ë¶€ë¶„ì€ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ì´ë²¤íŠ¸ íƒ€ê¹ƒì— ë°”ì¸ë”©í•˜ì§€ë§Œ, ë°˜ë“œì‹œ ì´ë²¤íŠ¸ íƒ€ê²Ÿì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°”ì¸ë”©í•  í•„ìš”ëŠ” ì—†ë‹¤. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ì´ë²¤íŠ¸ íƒ€ê¹ƒ ë˜ëŠ” ì „íŒŒë˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•  DOM ë…¸ë“œì— ë°”ì¸ë”©í•œë‹¤. (40.6 ì´ë²¤íŠ¸ ì „íŒŒì™€ 40.7 ì´ë²¤íŠ¸ ìœ„ì„ì—ì„œ ì‚´í´ë³¼ ë‚´ìš©)

- ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ ê³¼ í”„ë¡œí¼í‹° ë°©ì‹  
   ì•ì„œ ì‚´í´ë³¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ì€ ê²°êµ­ DOM ë…¸ë“œ ê°ì²´ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ë¡œ ë³€í™˜ë˜ëŠ” ê²ƒì´ë¯€ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ê³¼ ë™ì¼í•˜ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
  - ì°¨ì´ì  :  
    html / JS ì½”ë“œë¥¼ ë‚˜ëˆ„ì–´ ê´€ì‹¬ì‚¬ êµ¬ë¶„ ê°€ëŠ¥ì´ ê°€ëŠ¥í•˜ë‹¤.
  - í•œê³„ì  :  
    ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ë§Œ ë“±ë¡ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì .
    ```html
    <script>
      const $button = document.querySelector("button");
      //ì²«ë²ˆì§¸ë¡œ ë°”ì¸ë”© ëœ í•¸ë“¤ëŸ¬
      $button.onclick = function (name) {
        console.log(name);
      };
      //ë‘ë²ˆì§¸ë¡œ ë°”ì¸ë”© ëœ í•¸ë“¤ëŸ¬
      $button.onclick = function () {
        console.log("hihihi");
      };
      // ì²«ë²ˆì§¸ë¡œ ë°”ì¸ë”© ëœ í•¸ë“¤ëŸ¬ëŠ” ë‘ë²ˆì§¸ í•¸ë“¤ëŸ¬ê°€ í”„ë¡œí¼í‹°ì— ì¬í• ë‹¹ë˜ë©° ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
    </script>
    ```

### 40.3.3 addEventListener ë©”ì„œë“œ ë°©ì‹

ì•ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ê³¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë°©ì‹ì€ DOM Level 0ë¶€í„° ì œê³µë˜ë˜ ë°©ì‹ì´ë‹¤. addEventListener ë©”ì„œë“œëŠ” DOM Level 2ì—ì„œ ë„ì…ë˜ì—ˆë‹¤.

```javascript
EventTarget.addEventListener(eventType, functionName, [, useCapture]);
```

ìœ„ì˜ ì˜ˆì œ ì½”ë“œë¥¼ addEventListenerë¡œ êµ¬í˜„í•˜ë©´

```html
<!DOCTYPE html>
<html>
  <body>
    <button>Click me!</button>
    <script>
      const $button = document.querySelector("button");

      function sayHi(name) {
        console.log(name);
      }
      $button.addEventListener("click", sayHi, false);
    </script>
  </body>
</html>
```

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ì˜ ì—¬ëŸ¬ê°€ì§€ ì¼€ì´ìŠ¤

- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ê³¼, addEventListener ë°©ì‹ ëª¨ë‘ë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ëŠ” ??  
  âœ… ë‘˜ë‹¤ ë™ì‘í•¨

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button>Click me!</button>
      <script>
        const $button = document.querySelector("button");
        $button.onclick = () => {
          console.log("property button Click");
        };
        function sayHi() {
          console.log("addEventListener Click");
        }
        $button.addEventListener("click", sayHi);
      </script>
    </body>
  </html>
  ```

- addEventListenerë¡œ ì—¬ëŸ¬ê°œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ë©´??  
  âœ… ìˆœì„œëŒ€ë¡œ ë™ì‘í•¨

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button>Click me!</button>
      <script>
        const $button = document.querySelector("button");
        $button.addEventListener("click", function () {
          console.log("first Handler");
        });
        $button.addEventListener("click", function () {
          console.log("second Handler");
        });
      </script>
    </body>
  </html>
  ```

- ê°™ì€ í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì—¬ëŸ¬ë²ˆ ë“±ë¡í•˜ë©´?
  âœ… í•˜ë‚˜ë§Œ ë“±ë¡ë¨
  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button>Click me!</button>
      <script>
        const $button = document.querySelector("button");
        function handleClick() {
          console.log("button Clicked");
        }
        $button.addEventListener("click", handleClick);
        $button.addEventListener("click", handleClick);
      </script>
    </body>
  </html>
  ```

## 40.4 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°

### addEventListener ë©”ì„œë“œë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°

removeEventListener ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

> EventTarget.removeEventListener(functionName);ìœ¼ë¡œ ì œê±°  
> â—ï¸ë‹¨ addEventListener ë©”ì„œë“œë¡œ ì „ë‹¬í•´ì¤€ ì¸ìˆ˜ì™€ ë™ì¼í–ˆì„ê²½ìš°ì—ë§Œ ì œê±°ëœë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <button>Click me!</button>
    <script>
      const $button = document.querySelector("button");
      function handleClick() {
        console.log("button Clicked");
      }

      $button.addEventListener("click", handleClick);
      $button.removeEventListener("click", handleClick, true); //ì‹¤íŒ¨
      $button.removeEventListener("click", handleClick); //ì„±ê³µ
    </script>
  </body>
</html>
```

- ì£¼ì˜í•  ì 

  - ë¬´ëª…í•¨ìˆ˜ë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ì œê±°í•  ìˆ˜ ì—†ë‹¤.
    ```javascript
    $button.addEventListener("click", () => {
      console.log("click");
    });
    //ë“±ë¡í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì œê±°í• ìˆ˜ ì—†ë‹¤
    ```
  - í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°ë„ ê°€ëŠ¥í•˜ë‹¤

    ```javascript
    $button.addEventListener("click", function foo() {
      console.log("click");

      $button.removeEventListener("click", foo);
      // ì´ë²¤íŠ¸ ë°œìƒì‹œ foo í•¨ìˆ˜ë¥¼ í•œë²ˆ í˜¸ì¶œí•˜ê³ , í•¸ë“¤ëŸ¬ë¥¼ ì œê±°í•¨ìœ¼ë¡œì¨ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” í•œë²ˆë§Œ í˜¸ì¶œëœë‹¤.
    });
    ```

  - ë¬´ëª… í•¨ìˆ˜ë¡œ ì „ë‹¬ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë„ ë‚´ë¶€ì—ì„œ ì œê±°ëŠ” ê°€ëŠ¥í•˜ë‹¤.
    í•˜ì§€ë§Œ arguments.calleeëŠ” strict ëª¨ë“œì—ì„œ ì‚¬ìš©ì´ ë¶ˆê°€í•˜ë¯€ë¡œ, í•¨ìˆ˜ í•¸ë“¤ëŸ¬ì˜ ì°¸ì¡°ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ì—¬ ì œê±°í•˜ëŠ”ê²Œ ì¢‹ë‹¤

    ```javascript
    $button.addEventListener("click", function () {
      console.log("click");

      $button.removeEventListener("click", arguments.callee);
      //arguments.calleeëŠ” í˜¸ì¶œëœ í•¨ìˆ˜, ì¦‰ ìì‹ ì„ ê°€ë¦¬í‚¨ë‹¤.
    });
    ```

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°í•˜ê¸°

> ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— null í• ë‹¹í•˜ê¸°

```javascript
$button.onclick = () => {
  console.log("click");
};
//í•¸ë“¤ëŸ¬ ì œê±°
$button.onclick = null;
```

## 40.5 ì´ë²¤íŠ¸ ê°ì²´

ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì´ë²¤íŠ¸ì— ê´€ë ¨ëœ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë‹´ê³ ìˆëŠ” ì´ë²¤íŠ¸ ê°ì²´ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ëœë‹¤, ì´ ê°ì²´ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬ëœë‹¤.

- ì´ë²¤íŠ¸ ë“±ë¡ ë°©ì‹ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ë°›ëŠ” ë²•ì´ ë‹¤ë¥´ë‹¤

  - addeventListener ë©”ì„œë“œ, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹
    ë©”ì„œë“œì— ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ ì°¸ì¡°ì— ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ event ê°ì²´ë¥¼ ì „ë‹¬ë°›ìœ¼ë‹ˆ ì–´ë–¤ ì´ë¦„ì„ ì¨ë„ ìƒê´€ ì—†ë‹¤.

    ```javascript
      //<html> ì½”ë“œ ìƒëµ

      function eventHandler(e){ //e ë“  event ë“  objë“  ì´ë¦„ì€ ìƒê´€ ì—†ë‹¤
        ...
      }
      $target.addEventListener('click', eventHandler);
      $target.onclick = eventHandler;
      // ë‘ ë°©ì‹ ëª¨ë‘ ì°¸ì¡°ë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ì˜ ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ eventê°ì²´ë¥¼ ì „ë‹¬í•¨

    ```

  - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸
    ë°˜ë“œì‹œ eventë¼ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    ì•”ë¬µì ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ í”„ë¡œí¼í‹°ì— í• ë‹¹í•˜ê¸° ë•Œë¬¸.

    ```html
    <!-- ë°˜ë“œì‹œ event ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©, -->
    <button onclick="sayHello(event)"></button>
    ```

    ```javascript
    //ì•”ë¬µì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ onclick í”„ë¡œí¼í‹°ì— í• ë‹¹
    function onclick(event) {
      sayHello(event); // ë°˜ë“œì‹œ eventë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©
    }
    ```

### 40.5.1 ì´ë²¤íŠ¸ ê°ì²´ì˜ ìƒì† êµ¬ì¡°

ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, ì´ë²¤íŠ¸ íƒ€ì…ì— ë§ëŠ” ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ ê°ì²´ê°€ ìƒì„±ëœë‹¤. ê·¸ ì´ë²¤íŠ¸ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒì† êµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤
![image](images/event_object_inheritence_structure.png)

ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì´ë²¤íŠ¸ ê°ì²´ëŠ” ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœë‹¤.
ìƒì„±ëœ ì´ë²¤íŠ¸ ê°ì²´ëŠ” ìœ„ì™€ ê°™ì€ ìƒì† êµ¬ì¡°ì— ë§ê²Œ í”„ë¡œí† íƒ€ì… ì²´ì¸ì˜ ì¼ì›ì´ ëœë‹¤.

> ex) ìƒì†êµ¬ì¡° Event - UIEvent - MouseEvent
> MouseEvent ê°ì²´ëŠ” í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í†µí•´ Eventì™€ UIEvent ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ìƒì†ë°›ëŠ”ë‹¤.

- í•˜ìœ„ ì¸í„°í˜ì´ìŠ¤ëŠ” ì´ë²¤íŠ¸ íƒ€ì…ì— ë”°ë¼ ê³ ìœ í•œ í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ ê° ì´ë²¤íŠ¸ íƒ€ì…ì— ë§ëŠ” ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ì „ë‹¬í•´ ì¤„ ìˆ˜ ìˆë‹¤.

### 40.5.2 ì´ë²¤íŠ¸ ê°ì²´ì˜ ê³µí†µ í”„ë¡œí¼í‹°

Event ì¸í„°í˜ì´ìŠ¤, ì´ë²¤íŠ¸ ê°ì²´ë“¤ì˜ ê°€ì¥ ìƒìœ„ ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  íŒŒìƒ ì´ë²¤íŠ¸ ê°ì²´ì— ìƒì†ëœë‹¤.
ë”°ë¼ì„œ ëª¨ë“  ì´ë²¤íŠ¸ ê°ì²´ëŠ” Event.prototype ì•ˆì˜ í”„ë¡œí¼í‹°ëŠ” ëª¨ë“  ì´ë²¤íŠ¸ ê°ì²´ì˜ ê³µí†µ í”„ë¡œí¼í‹°ì´ë‹¤.

https://developer.mozilla.org/ko/docs/Web/API/Event //Instace Properties í•­ëª©ì— ìˆìŒ

> 40.5.3, 40.5.4 ìƒëµ

## 40.6 ì´ë²¤íŠ¸ ì „íŒŒ

â—ï¸ DOM ìš”ì†Œ ë…¸ë“œì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ëŠ” DOMíŠ¸ë¦¬ë¥¼ í†µí•´ ì „íŒŒëœë‹¤. ì´ë¥¼ ì´ë²¤íŠ¸ ì „íŒŒ(event Propagation)ì´ë¼ê³  í•œë‹¤!

### ì´ë²¤íŠ¸ ì „íŒŒ 3ë‹¨ê³„

ë‹¤ìŒ ì˜ˆì œë¥¼ ì‚´í´ë³´ì

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li id="apple">Apple</li>
      <li id="banana" onclick="console.log('banana')">Banana</li>
      <li id="orange">Orange</li>
    </ul>
  </body>
</html>
```

**ì´ë²¤íŠ¸ ë°œìƒê³¼ ì „íŒŒ ê³¼ì •**

- ì´ë²¤íŠ¸ ë°œìƒ  
  ul ìš”ì†Œì¸ ë‘ë²ˆì§¸ ìì‹ ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤. ì´ ë•Œ ìƒì„±ëœ ì´ë²¤íŠ¸ ê°ì²´ëŠ” ì´ë²¤íŠ¸ íƒ€ê¹ƒì„ ì¤‘ì‹¬ìœ¼ë¡œ **DOM íŠ¸ë¦¬ë¥¼ í†µí•´ ì „íŒŒ**ëœë‹¤.
- ì´ë²¤íŠ¸ ì „íŒŒ ë‹¨ê³„  
   ì´ë²¤íŠ¸ëŠ” ê°ì²´ê°€ ì „íŒŒë˜ëŠ” ë°©í–¥ì— ë”°ë¼ 3ë‹¨ê³„ë¡œ êµ¬ë¶„ëœë‹¤

  1.  ìº¡ì³ë§ ë‹¨ê³„  
      ì´ë²¤íŠ¸ê°€ DOM ìƒìœ„ ìš”ì†Œì—ì„œ í•˜ìœ„ ìš”ì†Œ ë°©í–¥ìœ¼ë¡œ ì „íŒŒë˜ëŠ” ë‹¨ê³„ì´ë‹¤
  2.  íƒ€ê¹ƒ ë‹¨ê³„  
      ìƒìœ„ ìš”ì†Œì—ì„œ ì „íŒŒë˜ëŠ” ì´ë²¤íŠ¸ê°€ íƒ€ê²Ÿì— ë„ë‹¬í•œ ë‹¨ê³„ì´ë‹¤
  3.  ë²„ë¸”ë§ ë‹¨ê³„  
      ì´ë²¤íŠ¸ê°€ í•˜ìœ„ ìš”ì†Œì—ì„œ ìƒìœ„ ìš”ì†Œ ë°©í–¥ìœ¼ë¡œ ì „íŒŒë˜ëŠ” ë‹¨ê³„ì´ë‹¤

  ![image](images/event_propagation.png)

  - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í˜¸ì¶œ íƒ€ì´ë°  
    ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸/í”„ë¡œí¼í‹° ë°©ì‹ìœ¼ë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íƒ€ê²Ÿ ë‹¨ê³„ì™€ ë²„ë¸”ë§ ë‹¨ê³„ì˜ ì´ë²¤íŠ¸ë§Œ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.
    addEventListener ë©”ì„œë“œ ë°©ì‹ìœ¼ë¡œ ë“±ë¡ëœ ì´ë²¤íŠ¸ëŠ” 3ë²ˆì§¸ ì¸ìˆ˜ì˜ ê°’ì— ë”°ë¼ íƒ€ê²Ÿ ë‹¨ê³„ ë¿ë§Œ ì•„ë‹ˆë¼ ìº¡ì³ë§ ë‹¨ê³„ì˜ ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.

- ì´ë²¤íŠ¸ ì „íŒŒ ê³¼ì • í™•ì¸  
  ì˜ˆì‹œ ì½”ë“œ

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <div id="container">
        <ul id="fruits">
          <li id="apple">Apple</li>
          <li id="banana">Banana</li>
          <li id="orange">Orange</li>
        </ul>
      </div>
    </body>
    <script>
      const $container = document.getElementById("container");
      const $fruits = document.getElementById("fruits");
      const $banana = document.getElementById("banana");

      function handleClick(e) {
        console.log("ì´ë²¤íŠ¸ ë‹¨ê³„ : ", e.eventPhase); // 1 ìº¡ì³ë§, 2 íƒ€ê²Ÿ, 3 ë²„ë¸”ë§
        console.log("ì´ë²¤íŠ¸ íƒ€ê¹ƒ : ", e.target); //
        console.log("ì»¤ëŸ°íŠ¸ íƒ€ê¹ƒ : ", e.currentTarget); //ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•œ DOMìš”ì†Œ
      }

      $banana.addEventListener("click", handleClick); // 3. íƒ€ê²Ÿ ë‹¨ê³„ ì´ë²¤íŠ¸ ìºì¹˜
      $fruits.addEventListener("click", handleClick, true); //2. ìº¡ì³ë§ ë‹¨ê³„ ì´ë²¤íŠ¸ ìºì¹˜
      $fruits.addEventListener("click", handleClick); // 4. ë²„ë¸”ë§ ë‹¨ê³„ ì´ë²¤íŠ¸ ìºì¹˜
      $container.addEventListener("click", handleClick, true); // 1. ìº¡ì³ë§ ë‹¨ê³„ ì´ë°´íŠ¸ ìºì¹˜
      $container.addEventListener("click", handleClick); // 5. ë²„ë¸”ë§ ë‹¨ê³„ ì´ë²¤íŠ¸ ìºì¹˜
    </script>
  </html>
  ```

  ![image](images/event_propagation_console.png)

  **ìº¡ì³ë§ ë‹¨ê³„ì—ì„œ** ê°€ì¥ ìƒìœ„ ìš”ì†Œë¶€í„° container - fruits ìˆœìœ¼ë¡œ ì´ë²¤íŠ¸ ìºì¹˜  
  **íƒ€ê²Ÿ ë‹¨ê³„ì—ì„œ** íƒ€ê²Ÿ ìš”ì†Œì¸ banana ì—ì„œ ì´ë²¤íŠ¸ ìºì¹˜  
  **ë²„ë¸”ë§ ë‹¨ê³„ì—ì„œ** íƒ€ê²Ÿë¶€í„° ìƒìœ„ ìš”ì†Œê¹Œì§€ frutis - container ìˆœìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

- ì •ë¦¬

  1. ì´ë²¤íŠ¸ ì „íŒŒëŠ” ìº¡ì³ë§ - íƒ€ê²Ÿ - ë²„ë¸”ë§ 3ë‹¨ê³„ì— ê±°ì³ì„œ ì¼ì–´ë‚œë‹¤
  2. ì´ë²¤íŠ¸ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ íƒ€ê¹ƒ ë¿ë§Œ ì•„ë‹ˆë¼ ìƒìœ„ DOM ìš”ì†Œì—ì„œë„ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.
  3. addEventListenerë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì˜µì…˜ì„ í†µí•´ ì›í•˜ëŠ” í˜¸ì¶œ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.

- ì•Œì•„ë‘˜ ì 

  - ë²„ë¸”ë§ì„ í†µí•´ ì „íŒŒë˜ì§€ ì•ŠëŠ” ì´ë²¤íŠ¸ê°€ ì¡´ì¬í•œë‹¤

        í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ : focus / blur
        ë¦¬ì†ŒìŠ¤ ì´ë²¤íŠ¸ : load /unload / error
        ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ : mouseenter / mouseleave

    ğŸ’¡ ì´ ì´ë²¤íŠ¸ë“¤ì€ ì´ë²¤íŠ¸ ê°ì²´ë“¤ì´ ëª¨ë‘ ìƒì†ë°›ëŠ” Event ì¸í„°í˜ì´ìŠ¤ì˜ event.bubble ê°’ì´ ëª¨ë‘ falseì´ë‹¤

## 40.7 ì´ë²¤íŠ¸ ìœ„ì„

> ì—¬ëŸ¬ê°œì˜ í•˜ìœ„ DOM ìš”ì†Œì— ê°ê° ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•˜ëŠ” ëŒ€ì‹  ìƒìœ„ DOM ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë§í•œë‹¤!  
> ğŸ’¡ ìƒìœ„ DOM ìš”ì†ŒëŠ” ì´ë²¤íŠ¸ë¥¼ ìºì¹˜ í•  ìˆ˜ ìˆëŠ” ì›ë¦¬ë¥¼ ì´ìš©

- ì˜ˆì œ
  í´ë¦­ëœ li ìš”ì†Œì— í† ê¸€ ê¸°ëŠ¥ì´ ìˆëŠ” ì½”ë“œ

```html
<!DOCTYPE html>
<html>
  <style>
    .toggled {
      font-weight: bold;
    }
  </style>

  <body>
    <div id="container">
      <ul id="fruits">
        <li id="apple">Apple</li>
        <li id="banana">Banana</li>
        <li id="orange">Orange</li>
      </ul>
    </div>
  </body>
  <script>
    const $fruits = document.getElementById("fruits");

    function activate(e) {
      const { target } = e;

      if (!target.matches("#fruits > li")) return;
      [...$fruits.children].forEach(($fruit) => {
        if ($fruit !== target) return;
        if ($fruit.classList.contains("toggled")) {
          $fruit.classList.remove("toggled");
        } else {
          $fruit.classList.add("toggled");
        }
      });
    }

    $fruits.addEventListener("click", activate);
  </script>
</html>
```

ìœ„ ì½”ë“œì²˜ëŸ¼ ìƒìœ„ DOM ìš”ì†Œì¸ fruitì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ì„œ í•˜ìœ„ DOM ìš”ì†Œë“¤ì„ ë‹¤ë£¨ëŠ” ê²ƒì„ ì´ë²¤íŠ¸ ìœ„ì„ì´ë¼ê³  í•œë‹¤.

## 40.8 DOM ìš”ì†Œì˜ ê¸°ë³¸ ë™ì‘ ì¡°ì‘

### 40.8.1 DOM ìš”ì†Œì˜ ê¸°ë³¸ ë™ì‘ ì¤‘ë‹¨

DOM ìš”ì†Œì— ê¸°ë³¸ì ìœ¼ë¡œ ë“±ë¡ë˜ì–´ìˆëŠ” ë™ì‘ì´ ìˆë‹¤. a ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ hrefì— ì €ì¥ë˜ì–´ìˆëŠ” ë§í¬ë¡œ ì´ë™í•˜ê³ , checkbox ë˜ëŠ” radio ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ ì²´í¬ ë˜ëŠ” í•´ì œëœë‹¤

> e.preventDefault();

e.preventDefault(); ë¥¼ í•¸ë“¤ëŸ¬ ì•ˆì— ì‘ì„±í•˜ì—¬ ê¸°ë³¸ ë™ì‘ì„ ì¤‘ë‹¨í•  ìˆ˜ ìˆë‹¤.

```javascript
$atag.addEventListener("click", function (e) {
  e.preventDefault(); //a íƒœê·¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ì¤‘ë‹¨í•œë‹¤.
});
```

### 40.8.2 ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€

> e.stopPropagation();
> ì´í›„ ë‹¨ê³„ì˜ ì´ë²¤íŠ¸ ì „íŒŒë¥¼ ì¤‘ë‹¨í•œë‹¤

```javascript
$element.addEventListener("click", function (e) {
  e.stopPropagation(); //ì´í›„ì˜ ì´ë²¤íŠ¸ ì „íŒŒë¥¼ ì¤‘ë‹¨í•œë‹¤.
});
```

## 40.9 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ this

### 40.9.1 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹

> ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸ ë°©ì‹ì—ì„œ í•¸ë“¤ëŸ¬ëŠ” ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ëœë‹¤, ë”°ë¼ì„œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ ì•ˆì˜ thisëŠ” window ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```html
<!-- ìƒëµ -->
<button onclick="handleClick()">
  <script>
    function handleClick() {
      console.log(this); //ìœˆë„ìš°
    }
  </script>
</button>
```

ì•”ë¬µì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.

```javascript
function onclick(event) {
  handleClick();
}
```

- í˜¸ì¶œí•  ë•Œ thisë¥¼ ì „ë‹¬í•œë‹¤ë©´?

  ```html
  <!-- ìƒëµ -->
  <button onclick="handleClick(this)">
    <script>
      function handleClick(arg) {
        console.log(arg); //button
      }
    </script>
  </button>
  ```

ì´ë–„ëŠ” ë°”ì¸ë”©í•œ DOM ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤.

> ğŸ‘‰ğŸ» handleClick í•¨ìˆ˜ì— ì „ë‹¬ëœ thisëŠ” ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ thisì´ë‹¤.  
> ë”°ë¼ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ thisëŠ” ì´ë²¤íŠ¸ë¥¼ ë°”ì¸ë”©í•œ DOM ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤. ì´ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ê³¼ ë™ì¼í•˜ë‹¤.

### 40.9.2 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ë°©ì‹ê³¼ addEventListener ë©”ì„œë“œ ë°©ì‹

- function í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ
  > ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ this,  
  > ì´ë²¤íŠ¸ë¥¼ ë°”ì¸ë”©í•œ DOM ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤,  
  > currentTargetê³¼ ë™ì¼í•œ DOM ìš”ì†Œ
- í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë–„

  > í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ thisë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”
  > ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê°€ë¦¬í‚¨ë‹¤

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button id="btn1">button1</button>
      <button id="btn2">button2</button>
    </body>
    <script>
      const $button1 = document.getElementById("btn1");
      const $button2 = document.getElementById("btn2");

      const handelClick = (e) => {
        console.log(e.currentTarget.innerText);
        console.log("this : ", this);
        console.log("currentTarget : ", e.currentTarget);
        console.log(this === e.currentTarget);
      };

      $button1.onclick = handelClick;
      $button2.addEventListener("click", handelClick);
    </script>
  </html>
  ```

  ![image](images/event_property_addEventListener_this.png)

- classë¥¼ ì‚¬ìš©í•  ë•Œ

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button id="btn">button</button>
    </body>
    <script>
      class App {
        constructor() {
          this.$button = document.getElementById("btn");
          this.count = 0;

          // increase ë©”ì„œë“œë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë“±ë¡
          this.$button.onclick = this.increase;
        }

        increase() {
          // increase ë©”ì„œë“œ ì•ˆì˜ thisëŠ” í´ë˜ìŠ¤ê°€ ìƒì„±í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ì§€ ì•ŠëŠ”ë‹¤!!!
          this.$button.textContent = ++this.count; //TypeError : Cannot set property 'textContet' of undefined
        }
      }
      new App();
    </script>
  </html>
  ```

  í´ë˜ìŠ¤ constructorì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•  ë•Œ, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë“±ë¡í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ increase ë©”ì„œë“œì— êµ¬í˜„ëœ í•¨ìˆ˜ë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë“±ë¡í•˜ê¸° ë•Œë¬¸ì—, ì´ ë©”ì„œë“œ ì•ˆì—ì„œì˜ thisëŠ” í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•œ DOMìš”ì†Œë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤!!  
   ğŸ‘‰ğŸ» increaseë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¡œì¨ ì „ë‹¬í•˜ë ¤ë©´ increase ë©”ì„œë“œ ë‚´ë¶€ì˜ thisê°€ ìƒì„±ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•´ì•¼í•œë‹¤.

* ì˜¬ë°”ë¥´ê²Œ ì‘ì„±í•œ ì½”ë“œ
  bind ë˜ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ í†µí•´ì„œ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button id="btn">button</button>
    </body>
    <script>
      class App {
        constructor() {
          this.$button = document.getElementById("btn");
          this.count = 0;

          // increase ë©”ì„œë“œ ë‚´ë¶€ thisê°€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•¨.
          this.$button.onclick = this.increase.bind(this);
        }

        increase() {
          this.$button.textContent = ++this.count;
        }
      }
      new App();
    </script>
  </html>
  ```

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button id="btn">button</button>
    </body>
    <script>
      class App {
        constructor() {
          this.$button = document.getElementById("btn");
          this.count = 0;

          // increase ë©”ì„œë“œ ë‚´ë¶€ thisê°€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•¨.
          this.$button.onclick = this.increase;
        }

        increase = () => {
          this.$button.textContent = ++this.count;
        };
      }
      new App();
    </script>
  </html>
  ```

## 40.10 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì¸ìˆ˜ ì „ë‹¬

> ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•´ì¤„ ìˆ˜ ìˆë‹¤.
> ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©° ì¸ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <input id="input" />
    <p id="msg"></p>
  </body>
  <script>
    //ì¸í’‹ ì•ˆì˜ value ìŠ¤íŠ¸ë§ì˜ ê¸¸ì´ê°€ 5 ì´ìƒì¼ë•Œë§Œ p íƒœê·¸ì˜ textë¡œ ë„£ì–´ì£¼ê³  ì‹¶ì„ë•Œ
    const $input = document.getElementById("input");
    const $msg = document.getElementById("msg");
    const MIN_INPUT_LENGTH = 5;

    //ì‹¤ì œ ì´ë²¤íŠ¸ì— ë”°ë¥¸ ë¡œì§ì´ ë°œìƒí•˜ëŠ” ê³³
    //minì´ë¼ëŠ” ê°’ì„ ì¸ìˆ˜ë¡œ ë°›ê³ ì‹¶ë‹¤.
    function checkInputLength(min) {
      const { value } = $input;
      if (value.length >= min) {
        $msg.innerText = value;
      } else {
        $msg.innerText = "";
      }
    }
    // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ,
    // í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ í•„ìš”í•œ ì¸ìˆ˜ ì „ë‹¬
    function inputHandeler(e) {
      checkInputLength(MIN_INPUT_LENGTH);
    }

    $input.addEventListener("input", inputHandeler);
  </script>
</html>
```

```html
<!DOCTYPE html>
<html>
  <body>
    <input id="input" />
    <p id="msg"></p>
  </body>
  <script>
    //ì¸í’‹ ì•ˆì˜ value ìŠ¤íŠ¸ë§ì˜ ê¸¸ì´ê°€ 5 ì´ìƒì¼ë•Œë§Œ p íƒœê·¸ì˜ textë¡œ ë„£ì–´ì£¼ê³  ì‹¶ì„ë•Œ
    const $input = document.getElementById("input");
    const $msg = document.getElementById("msg");
    const MIN_INPUT_LENGTH = 5;

    //ì‹¤ì œ ì´ë²¤íŠ¸ì— ë”°ë¥¸ ë¡œì§ì´ ë°œìƒí•˜ëŠ” ê³³
    //minì´ë¼ëŠ” ê°’ì„ ì¸ìˆ˜ë¡œ ë°›ê³ ì‹¶ë‹¤
    //ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
    const inputHandler = (min) => (e) => {
      const { value } = $input;
      if (value.length >= min) {
        $msg.innerText = value;
      } else {
        $msg.innerText = "";
      }
    };

    //inputHandler(param) ì€ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
    //inputHandler(MIN_INPUT_LENGTH) ë¦¬í„´ê°’ìœ¼ë¡œ (e)=>{ ... } í•¨ìˆ˜ê°€ ë¦¬í„´ë˜ë¯€ë¡œ, í•´ë‹¹í•¨ìˆ˜ ì•ˆì˜ ë¡œì§ì´ ì‹¤í–‰ëœë‹¤
    $input.oninput = inputHandler(MIN_INPUT_LENGTH);
  </script>
</html>
```

## 40.11 ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸

### 40.11.1 ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±

> ì´ë²¤íŠ¸ ê°ì²´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±

```javascript
//keyup íƒ€ì…ì˜ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ìƒì„±
const newKeyboardEvent = new KeyboardEvent("keyup");
//foo íƒ€ì…ì˜ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
const customEvent = new CustomEvent("foo", {
  // properties...
  // ì´ë²¤íŠ¸ ê³ ìœ ì˜ í”„ë¡œí¼í‹°ëŠ” ë‘ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬
});
```

> ğŸ’¡ ì´ë²¤íŠ¸ ìƒì„±ì í•¨ìˆ˜ë¡œ ìƒì„±í•œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ëŠ” isTrusted í”„ë¡œí¼í‹° ê°’ì´ ì–¸ì œë‚˜ falseì´ë‹¤!!

### 40.11.2 ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜

> ìœ„ì—ì„œ ë§Œë“  ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ì›í•˜ëŠ” íƒ€ê²Ÿì— dispatchEvent ë©”ì„œë“œë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë™ì‘ì‹œí‚¬ìˆ˜ ìˆë‹¤.

> â—ï¸ ì¼ë°˜ì ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ, dispatchEventë¥¼ ì‚¬ìš©í•  ê²½ìš° ë™ê¸°ì²˜ë¦¬ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤

> âœ… ë°˜ë“œì‹œ addEventListener ë©”ì„œë“œë¡œ êµ¬í˜„í•´ì•¼ í•¨  
> DOM ìš”ì†Œì— on + ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ íƒ€ì… í”„ë¡œí¼í‹°ê°€ ë…¸ë“œì— ì¡´ì¬í•˜ì§€ ì•Šê¸° ë–„ë¬¸ì—!

- ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ dispatchí•˜ê¸°

  ```html
  <!DOCTYPE html>
  <html>
    <body>
      <button id="btn">ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë°œìƒ ë²„íŠ¼</button>
      <p id="msg"></p>
      <p id="prop"></p>
      <script>
        const $button = document.getElementById("btn");
        const $msg = document.getElementById("msg");
        const $prop = document.getElementById("prop");

        //custom ì´ë²¤íŠ¸ ìƒì„±
        const customEvent = new Event("myEvent", {
          customProperty: "lee",
        });

        //í•¸ë“¤ëŸ¬
        const clickHandler = (e) => {
          document.dispatchEvent(customEvent);
        };
        const myEventHandler = (e) => {
          $msg.innerText = "ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ íƒ€ì…" + e.type;
          $prop.innerText = "ì»¤ìŠ¤í…€ ì†ì„± : " + e.customProperty;
        };

        // addEventListener ë“±ë¡
        //customEvent ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ”ê³³
        document.addEventListener("myEvent", myEventHandler);
        //ë²„íŠ¼ì—ì„œ click ì´ë²¤íŠ¸ ìºì¹˜
        $button.addEventListener("click", clickHandler);
      </script>
    </body>
  </html>
  ```
